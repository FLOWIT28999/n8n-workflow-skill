{
  "name": "AI ì‚¼ì„±ì „ì í¬íŠ¸í´ë¦¬ì˜¤ ë§¤ë‹ˆì € (ìµœì¢…)",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 7 * * *"
            }
          ]
        }
      },
      "id": "schedule-trigger",
      "name": "ë§¤ì¼ ì˜¤ì „ 7ì‹œ ì‹¤í–‰",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [240, 400]
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# ì‚¼ì„±ì „ì ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘ (ìµœê·¼ 90ì¼)\nimport json\nfrom datetime import datetime, timedelta\n\nstock_data = {\n    \"symbol\": \"005930.KS\",\n    \"name\": \"ì‚¼ì„±ì „ì\",\n    \"period\": \"90days\",\n    \"data\": [\n        {\n            \"date\": (datetime.now() - timedelta(days=i)).strftime(\"%Y-%m-%d\"),\n            \"open\": 70000 + (i * 100),\n            \"high\": 72000 + (i * 100),\n            \"low\": 69000 + (i * 100),\n            \"close\": 71000 + (i * 100),\n            \"volume\": 10000000 + (i * 50000)\n        }\n        for i in range(90, 0, -1)\n    ]\n}\n\nreturn {\"json\": stock_data}"
      },
      "id": "stock-data",
      "name": "ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 200]
    },
    {
      "parameters": {
        "url": "https://openapi.naver.com/v1/search/news.json",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "query",
              "value": "ì‚¼ì„±ì „ì"
            },
            {
              "name": "display",
              "value": "10"
            },
            {
              "name": "sort",
              "value": "date"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "X-Naver-Client-Id",
              "value": "bEc_TOc6o49QNxjsIFJw"
            },
            {
              "name": "X-Naver-Client-Secret",
              "value": "hjBr_O_vQX"
            }
          ]
        },
        "options": {}
      },
      "id": "news-data",
      "name": "ë‰´ìŠ¤ ë°ì´í„° ìˆ˜ì§‘",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [460, 340]
    },
    {
      "parameters": {
        "url": "https://opendart.fss.or.kr/api/list.json",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "crtfc_key",
              "value": "c91f2d3dc78594bd6f5ae98151905115bcb0a085"
            },
            {
              "name": "corp_code",
              "value": "00126380"
            },
            {
              "name": "bgn_de",
              "value": "={{ $now.minus({days: 30}).toFormat('yyyyMMdd') }}"
            },
            {
              "name": "end_de",
              "value": "={{ $now.toFormat('yyyyMMdd') }}"
            },
            {
              "name": "page_count",
              "value": "10"
            }
          ]
        },
        "options": {
          "timeout": 10000
        }
      },
      "id": "disclosure-data",
      "name": "ê³µì‹œ ë°ì´í„° ìˆ˜ì§‘",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [460, 480]
    },
    {
      "parameters": {
        "url": "https://opendart.fss.or.kr/api/fnlttSinglAcntAll.json",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "crtfc_key",
              "value": "c91f2d3dc78594bd6f5ae98151905115bcb0a085"
            },
            {
              "name": "corp_code",
              "value": "00126380"
            },
            {
              "name": "bsns_year",
              "value": "2024"
            },
            {
              "name": "reprt_code",
              "value": "11014"
            },
            {
              "name": "fs_div",
              "value": "CFS"
            }
          ]
        },
        "options": {
          "timeout": 10000
        }
      },
      "id": "financial-data",
      "name": "ì¬ë¬´ì œí‘œ ìˆ˜ì§‘",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [460, 620]
    },
    {
      "parameters": {
        "numberInputs": 4
      },
      "id": "merge-data",
      "name": "ë°ì´í„° ë³‘í•©",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [680, 410]
    },
    {
      "parameters": {
        "jsCode": "// ìˆ˜ì§‘ëœ ëª¨ë“  ë°ì´í„°ë¥¼ êµ¬ì¡°í™”\nconst allItems = $input.all();\n\nlet stockData = null;\nlet newsData = [];\nlet disclosureData = [];\nlet financialData = null;\n\n// ê° ë…¸ë“œì—ì„œ ì˜¨ ë°ì´í„° ë¶„ë¥˜\nfor (const item of allItems) {\n  const json = item.json;\n  \n  // ì£¼ê°€ ë°ì´í„° ì‹ë³„\n  if (json.symbol === '005930.KS') {\n    stockData = json;\n  }\n  \n  // ë„¤ì´ë²„ ë‰´ìŠ¤ API ë°ì´í„° ì‹ë³„\n  if (json.items && Array.isArray(json.items) && !json.list) {\n    // ë„¤ì´ë²„ API êµ¬ì¡°: { items: [...] }\n    json.items.forEach(newsItem => {\n      if (newsItem.title && newsItem.link) {\n        newsData.push({\n          title: newsItem.title.replace(/<[^>]*>/g, ''), // HTML íƒœê·¸ ì œê±°\n          link: newsItem.link,\n          pubDate: newsItem.pubDate,\n          description: newsItem.description ? newsItem.description.replace(/<[^>]*>/g, '') : ''\n        });\n      }\n    });\n  }\n  \n  // ê³µì‹œ ë°ì´í„° ì‹ë³„\n  if (json.list && Array.isArray(json.list) && !json.reprt_code) {\n    disclosureData = json.list.slice(0, 5);\n  }\n  \n  // ì¬ë¬´ì œí‘œ ì‹ë³„\n  if (json.list && json.reprt_code) {\n    financialData = json.list;\n  }\n}\n\n// í†µí•© ë°ì´í„° êµ¬ì¡°\nconst integratedData = {\n  timestamp: new Date().toISOString(),\n  symbol: '005930',\n  companyName: 'ì‚¼ì„±ì „ì',\n  stockData: stockData,\n  newsData: newsData.slice(0, 10),\n  disclosureData: disclosureData,\n  financialData: financialData ? financialData.slice(0, 20) : null\n};\n\nreturn [{ json: integratedData }];"
      },
      "id": "data-preprocessing",
      "name": "ë°ì´í„° ì „ì²˜ë¦¬",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [880, 410]
    },
    {
      "parameters": {
        "jsCode": "// ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°\nconst data = $input.first().json;\nconst stockPrices = data.stockData?.data || [];\n\nfunction calculateRSI(prices, period = 14) {\n  if (prices.length < period + 1) return null;\n  let gains = 0, losses = 0;\n  for (let i = 1; i <= period; i++) {\n    const change = prices[i].close - prices[i - 1].close;\n    if (change > 0) gains += change;\n    else losses += Math.abs(change);\n  }\n  let avgGain = gains / period, avgLoss = losses / period;\n  for (let i = period + 1; i < prices.length; i++) {\n    const change = prices[i].close - prices[i - 1].close;\n    if (change > 0) {\n      avgGain = (avgGain * (period - 1) + change) / period;\n      avgLoss = (avgLoss * (period - 1)) / period;\n    } else {\n      avgGain = (avgGain * (period - 1)) / period;\n      avgLoss = (avgLoss * (period - 1) + Math.abs(change)) / period;\n    }\n  }\n  const rs = avgGain / avgLoss;\n  return 100 - (100 / (1 + rs));\n}\n\nfunction calculateMA(prices, period) {\n  if (prices.length < period) return null;\n  const recentPrices = prices.slice(-period);\n  return recentPrices.reduce((acc, p) => acc + p.close, 0) / period;\n}\n\nfunction calculateBollingerBands(prices, period = 20, stdDev = 2) {\n  if (prices.length < period) return null;\n  const closes = prices.slice(-period).map(p => p.close);\n  const middle = closes.reduce((a, b) => a + b) / period;\n  const variance = closes.reduce((sum, price) => sum + Math.pow(price - middle, 2), 0) / period;\n  const std = Math.sqrt(variance);\n  return { upper: middle + (std * stdDev), middle: middle, lower: middle - (std * stdDev) };\n}\n\nfunction analyzeVolume(prices) {\n  if (prices.length < 20) return null;\n  const recentVolumes = prices.slice(-20).map(p => p.volume);\n  const avgVolume = recentVolumes.reduce((a, b) => a + b) / 20;\n  const latestVolume = prices[prices.length - 1].volume;\n  return {\n    average20d: avgVolume,\n    latest: latestVolume,\n    ratio: (latestVolume / avgVolume).toFixed(2),\n    trend: latestVolume > avgVolume * 1.5 ? 'ê¸‰ë“±' : latestVolume < avgVolume * 0.5 ? 'ê¸‰ê°' : 'ë³´í†µ'\n  };\n}\n\nconst technicalIndicators = {\n  rsi: calculateRSI(stockPrices),\n  movingAverages: {\n    ma5: calculateMA(stockPrices, 5),\n    ma20: calculateMA(stockPrices, 20),\n    ma60: calculateMA(stockPrices, 60)\n  },\n  bollingerBands: calculateBollingerBands(stockPrices),\n  volume: analyzeVolume(stockPrices),\n  latestPrice: stockPrices[stockPrices.length - 1]?.close,\n  priceChange: {\n    day1: ((stockPrices[stockPrices.length - 1]?.close - stockPrices[stockPrices.length - 2]?.close) / stockPrices[stockPrices.length - 2]?.close * 100).toFixed(2),\n    day5: ((stockPrices[stockPrices.length - 1]?.close - stockPrices[stockPrices.length - 6]?.close) / stockPrices[stockPrices.length - 6]?.close * 100).toFixed(2),\n    day20: ((stockPrices[stockPrices.length - 1]?.close - stockPrices[stockPrices.length - 21]?.close) / stockPrices[stockPrices.length - 21]?.close * 100).toFixed(2)\n  }\n};\n\nlet tradingSignal = 'ë³´ìœ ', signalStrength = 0;\nconst reasons = [];\n\nif (technicalIndicators.rsi) {\n  if (technicalIndicators.rsi < 30) {\n    signalStrength += 2;\n    reasons.push('RSI ê³¼ë§¤ë„ êµ¬ê°„ (ë§¤ìˆ˜ ì‹ í˜¸)');\n  } else if (technicalIndicators.rsi > 70) {\n    signalStrength -= 2;\n    reasons.push('RSI ê³¼ë§¤ìˆ˜ êµ¬ê°„ (ë§¤ë„ ì‹ í˜¸)');\n  }\n}\n\nif (technicalIndicators.movingAverages.ma5 > technicalIndicators.movingAverages.ma20) {\n  signalStrength += 1;\n  reasons.push('ê³¨ë“ í¬ë¡œìŠ¤');\n} else {\n  signalStrength -= 1;\n  reasons.push('ë°ë“œí¬ë¡œìŠ¤');\n}\n\nif (technicalIndicators.bollingerBands && technicalIndicators.latestPrice) {\n  if (technicalIndicators.latestPrice < technicalIndicators.bollingerBands.lower) {\n    signalStrength += 1;\n    reasons.push('ë³¼ë¦°ì € ë°´ë“œ í•˜ë‹¨ (ë°˜ë“± ê°€ëŠ¥)');\n  } else if (technicalIndicators.latestPrice > technicalIndicators.bollingerBands.upper) {\n    signalStrength -= 1;\n    reasons.push('ë³¼ë¦°ì € ë°´ë“œ ìƒë‹¨ (ì¡°ì • ê°€ëŠ¥)');\n  }\n}\n\nif (signalStrength >= 2) tradingSignal = 'ë§¤ìˆ˜';\nelse if (signalStrength <= -2) tradingSignal = 'ë§¤ë„';\n\nconst result = {\n  ...data,\n  technicalIndicators: technicalIndicators,\n  tradingSignal: {\n    signal: tradingSignal,\n    strength: signalStrength,\n    reasons: reasons,\n    confidence: Math.min(Math.abs(signalStrength) * 25, 100) + '%'\n  }\n};\n\nreturn [{ json: result }];"
      },
      "id": "technical-indicators",
      "name": "ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1080, 410]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=### ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸\në‹¹ì‹ ì€ ê¸ˆìœµ ë‰´ìŠ¤ ê°ì„± ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.\n\n**ì—­í• **: ì œê³µëœ ë‰´ìŠ¤ë¥¼ ë¶„ì„í•˜ì—¬ ì‹œì¥ ì‹¬ë¦¬ë¥¼ íŒŒì•…í•˜ê³ , ê° ë‰´ìŠ¤ê°€ ì£¼ê°€ì— ë¯¸ì¹  ì˜í–¥ì„ í‰ê°€í•©ë‹ˆë‹¤.\n\n**ë¶„ì„ ê¸°ì¤€**:\n- ê¸ì •: ì‹¤ì  ê°œì„ , ì‹ ì œí’ˆ ì¶œì‹œ, íˆ¬ì í™•ëŒ€\n- ë¶€ì •: ì‹¤ì  ì•…í™”, ì†Œì†¡/ê·œì œ, ë¦¬ì½œ\n- ì¤‘ë¦½: ë‹¨ìˆœ ì‚¬ì‹¤ ë³´ë„\n\n**ì¶œë ¥ í˜•ì‹**: JSON ë°°ì—´\n```json\n[\n  {\n    \"title\": \"ë‰´ìŠ¤ ì œëª©\",\n    \"sentiment\": \"ê¸ì •/ë¶€ì •/ì¤‘ë¦½\",\n    \"score\": 75,\n    \"summary\": \"í•œ ì¤„ ìš”ì•½\",\n    \"impact\": \"ìƒìŠ¹/í•˜ë½/ì¤‘ë¦½\",\n    \"reasoning\": \"íŒë‹¨ ê·¼ê±°\"\n  }\n]\n```\n\n---\n\n### ë¶„ì„í•  ë‰´ìŠ¤ ë°ì´í„°\n\n{{ $json.newsData.map(news => `ì œëª©: ${news.title}\\në‚´ìš©: ${news.description}\\në‚ ì§œ: ${news.pubDate}`).join('\\n\\n---\\n\\n') }}\n\n---\n\nìœ„ ë‰´ìŠ¤ë“¤ì„ ë‹¨ê¸° íŠ¸ë ˆì´ë”© ê´€ì (1-3ì¼)ì—ì„œ ë¶„ì„í•˜ì—¬ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”.",
        "options": {}
      },
      "id": "ai-chain-sentiment",
      "name": "AI Chain - ê°ì„± ë¶„ì„",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.4,
      "position": [1280, 410]
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash-exp",
        "options": {
          "temperature": 0.7,
          "maxOutputTokens": 2048
        }
      },
      "id": "gemini-sentiment",
      "name": "Gemini - ê°ì„±ë¶„ì„",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [1280, 590]
    },
    {
      "parameters": {
        "jsCode": "// ê°ì„± ë¶„ì„ ê²°ê³¼ì™€ ê¸°ìˆ ì  ì§€í‘œë¥¼ ë³‘í•©\nconst technicalData = $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').first().json;\nconst sentimentResult = $input.first().json;\n\n// ê°ì„± ë¶„ì„ ê²°ê³¼ íŒŒì‹± (JSON ë¬¸ìì—´ì¼ ìˆ˜ ìˆìŒ)\nlet sentimentAnalysis = sentimentResult.output || sentimentResult.text || sentimentResult;\n\n// JSON íŒŒì‹± ì‹œë„\nif (typeof sentimentAnalysis === 'string') {\n  try {\n    // JSON ì½”ë“œ ë¸”ë¡ ì œê±°\n    sentimentAnalysis = sentimentAnalysis.replace(/```json\\n?/g, '').replace(/```\\n?/g, '');\n    sentimentAnalysis = JSON.parse(sentimentAnalysis);\n  } catch (e) {\n    sentimentAnalysis = sentimentAnalysis; // íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì›ë³¸ ìœ ì§€\n  }\n}\n\nconst combinedData = {\n  ...technicalData,\n  sentimentAnalysis: sentimentAnalysis\n};\n\nreturn [{ json: combinedData }];"
      },
      "id": "combine-sentiment",
      "name": "ê°ì„± ë¶„ì„ ë³‘í•©",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1480, 410]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=### ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸\në‹¹ì‹ ì€ ë‹¨ê¸° íŠ¸ë ˆì´ë”© ì „ë¬¸ ì£¼ì‹ í¬íŠ¸í´ë¦¬ì˜¤ ë§¤ë‹ˆì €ì…ë‹ˆë‹¤.\n\n**ì „ë¬¸ ë¶„ì•¼**: 1-3ì¼ íˆ¬ì ê¸°ê°„ì˜ ë‹¨ê¸° íŠ¸ë ˆì´ë”©\n**ë¶„ì„ ê¸°ì¤€**: ê¸°ìˆ ì  ì§€í‘œ + ë‰´ìŠ¤ ê°ì„± + ì¬ë¬´/ê³µì‹œ\n**ì¶œë ¥**: êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ì „ëµ\n\n---\n\n### ë¶„ì„ ë°ì´í„°\n\n#### ê¸°ë³¸ ì •ë³´\n- ì¢…ëª©: {{ $json.companyName }} ({{ $json.symbol }})\n- ë¶„ì„ ì¼ì‹œ: {{ $json.timestamp }}\n\n#### ì£¼ê°€ ë°ì´í„°\n- í˜„ì¬ê°€: {{ $json.technicalIndicators.latestPrice }}ì›\n- 1ì¼ ë³€ë™: {{ $json.technicalIndicators.priceChange.day1 }}%\n- 5ì¼ ë³€ë™: {{ $json.technicalIndicators.priceChange.day5 }}%\n- 20ì¼ ë³€ë™: {{ $json.technicalIndicators.priceChange.day20 }}%\n\n#### ê¸°ìˆ ì  ì§€í‘œ\n- RSI: {{ $json.technicalIndicators.rsi }}\n- MA5: {{ $json.technicalIndicators.movingAverages.ma5 }}ì›\n- MA20: {{ $json.technicalIndicators.movingAverages.ma20 }}ì›\n- MA60: {{ $json.technicalIndicators.movingAverages.ma60 }}ì›\n- ë³¼ë¦°ì € ë°´ë“œ ìƒë‹¨: {{ $json.technicalIndicators.bollingerBands.upper }}ì›\n- ë³¼ë¦°ì € ë°´ë“œ ì¤‘ê°„: {{ $json.technicalIndicators.bollingerBands.middle }}ì›\n- ë³¼ë¦°ì € ë°´ë“œ í•˜ë‹¨: {{ $json.technicalIndicators.bollingerBands.lower }}ì›\n- ê±°ë˜ëŸ‰: {{ $json.technicalIndicators.volume.trend }} (í‰ê·  ëŒ€ë¹„ {{ $json.technicalIndicators.volume.ratio }}ë°°)\n\n#### ìë™ ë§¤ë§¤ ì‹ í˜¸\n- ì‹ í˜¸: {{ $json.tradingSignal.signal }}\n- ì‹ ë¢°ë„: {{ $json.tradingSignal.confidence }}\n- ê·¼ê±°: {{ $json.tradingSignal.reasons.join(', ') }}\n\n#### ë‰´ìŠ¤ ê°ì„± ë¶„ì„\n{{ JSON.stringify($json.sentimentAnalysis, null, 2) }}\n\n#### ì¬ë¬´/ê³µì‹œ ì •ë³´\nê³µì‹œ: {{ JSON.stringify($json.disclosureData, null, 2) }}\nì¬ë¬´: {{ JSON.stringify($json.financialData?.slice(0, 10), null, 2) }}\n\n---\n\n### ìš”êµ¬ì‚¬í•­\n\në‹¤ìŒ í˜•ì‹ìœ¼ë¡œ **ì™„ì „í•œ ë§ˆí¬ë‹¤ìš´ ë¦¬í¬íŠ¸**ë¥¼ ì‘ì„±í•˜ì„¸ìš”:\n\n# ì‚¼ì„±ì „ì ì¼ì¼ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ë¦¬í¬íŠ¸\n\n**ìƒì„± ì¼ì‹œ**: [KST ì‹œê°„]\n\n## ğŸ“Š Executive Summary\n- **í¬ì§€ì…˜**: [ê°•ë ¥ ë§¤ìˆ˜/ë§¤ìˆ˜/ë³´ìœ /ë§¤ë„/ê°•ë ¥ ë§¤ë„]\n- **ëª©í‘œê°€**: [ê°€ê²©]ì›\n- **ì†ì ˆê°€**: [ê°€ê²©]ì›\n- **íˆ¬ì ê¸°ê°„**: 1-3ì¼\n- **ì˜ˆìƒ ìˆ˜ìµë¥ **: [X]%\n- **ì‹ ë¢°ë„**: [ë†’ìŒ/ì¤‘ê°„/ë‚®ìŒ]\n\n### í•µì‹¬ ìš”ì•½ (3ì¤„)\n1. [ê¸°ìˆ ì  ë¶„ì„ ìš”ì•½]\n2. [ë‰´ìŠ¤ ê°ì„± ìš”ì•½]\n3. [ìµœì¢… íŒë‹¨]\n\n## ğŸ“ˆ ê¸°ìˆ ì  ë¶„ì„\n[RSI, ì´ë™í‰ê· ì„ , ë³¼ë¦°ì € ë°´ë“œ, ê±°ë˜ëŸ‰ í•´ì„]\n**ì¢…í•© ì ìˆ˜**: [+Xì ] / 5ì \n\n## ğŸ“° ë‰´ìŠ¤ & ì‹œì¥ ì‹¬ë¦¬\n[ê°ì„± ë¶„ì„ ìš”ì•½ ë° ì£¼ìš” ë‰´ìŠ¤ 3ê°œ]\n**ì‹œì¥ ì‹¬ë¦¬ ì ìˆ˜**: [+Xì ] / 5ì \n\n## ğŸ’¼ ì¬ë¬´ & ê³µì‹œ ë¶„ì„\n[ì£¼ìš” ê³µì‹œ ë° ì¬ë¬´ ì§€í‘œ]\n\n## ğŸ¯ íŠ¸ë ˆì´ë”© ì „ëµ\n**ìµœì¢… ì ìˆ˜**: [ê¸°ìˆ  + ì‹¬ë¦¬] / 10ì \n\n### ì¶”ì²œ ì „ëµ: [ë§¤ìˆ˜/ë§¤ë„/ë³´ìœ ]\n[êµ¬ì²´ì  ì§„ì…ê°€, ëª©í‘œê°€, ì†ì ˆê°€, ë¶„í•  ë§¤ìˆ˜ ì „ëµ]\n\n## âš ï¸ ë¦¬ìŠ¤í¬ ë¶„ì„\n**ë¦¬ìŠ¤í¬ ë ˆë²¨**: [ë‚®ìŒ/ì¤‘ê°„/ë†’ìŒ]\n[ì£¼ìš” ë¦¬ìŠ¤í¬ 3ê°€ì§€ ë° ëŒ€ì‘ ë°©ì•ˆ]\n\n## ğŸ“ ê²°ë¡ \n[2-3ë¬¸ì¥ ì¢…í•© ì˜ê²¬]\n\n### ì•¡ì…˜ ì•„ì´í…œ\n- [ ] [êµ¬ì²´ì  í–‰ë™ 1]\n- [ ] [êµ¬ì²´ì  í–‰ë™ 2]\n\n---\n**ë©´ì±… ì¡°í•­**: AI ìë™ ìƒì„± ë¦¬í¬íŠ¸. ì°¸ê³  ìë£Œë¡œë§Œ í™œìš©í•˜ì„¸ìš”.",
        "options": {}
      },
      "id": "ai-chain-portfolio",
      "name": "AI Chain - í¬íŠ¸í´ë¦¬ì˜¤",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.4,
      "position": [1680, 410]
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash-exp",
        "options": {
          "temperature": 0.7,
          "maxOutputTokens": 4096
        }
      },
      "id": "gemini-portfolio",
      "name": "Gemini - í¬íŠ¸í´ë¦¬ì˜¤",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [1680, 590]
    },
    {
      "parameters": {
        "jsCode": "// AI ë¶„ì„ ê²°ê³¼ë¥¼ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ë¡œ í¬ë§·íŒ…\nconst analysisResult = $input.first().json;\nconst today = new Date().toISOString().split('T')[0];\n\nlet markdownContent = '';\n\nif (typeof analysisResult === 'string') {\n  markdownContent = analysisResult;\n} else if (analysisResult.output) {\n  markdownContent = analysisResult.output;\n} else if (analysisResult.text) {\n  markdownContent = analysisResult.text;\n} else if (analysisResult.response) {\n  markdownContent = analysisResult.response;\n} else {\n  markdownContent = `# ì‚¼ì„±ì „ì ì¼ì¼ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ë¦¬í¬íŠ¸\\n\\n**ìƒì„± ì¼ì‹œ**: ${new Date().toLocaleString('ko-KR', { timeZone: 'Asia/Seoul' })}\\n\\n## ë¶„ì„ ê²°ê³¼\\n\\n${JSON.stringify(analysisResult, null, 2)}\\n`;\n}\n\n// ë§ˆí¬ë‹¤ìš´ ì½”ë“œ ë¸”ë¡ ì œê±°\nmarkdownContent = markdownContent.replace(/```markdown\\n?/g, '').replace(/```\\n?$/g, '');\n\nconst fileName = `${today}_samsung_portfolio_report.md`;\n\nreturn [{\n  json: {\n    fileName: fileName,\n    content: markdownContent,\n    mimeType: 'text/markdown',\n    timestamp: new Date().toISOString()\n  }\n}];"
      },
      "id": "markdown-generation",
      "name": "ë§ˆí¬ë‹¤ìš´ ìƒì„±",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1880, 410]
    },
    {
      "parameters": {
        "name": "={{ $json.fileName }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "value": "1rlv87JwnjT3pZagPnezS_trIvJgRC-2J",
          "mode": "list"
        },
        "options": {}
      },
      "id": "google-drive-upload",
      "name": "Google Drive ì €ì¥",
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [2080, 410]
    }
  ],
  "connections": {
    "ë§¤ì¼ ì˜¤ì „ 7ì‹œ ì‹¤í–‰": {
      "main": [
        [
          {
            "node": "ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘",
            "type": "main",
            "index": 0
          },
          {
            "node": "ë‰´ìŠ¤ ë°ì´í„° ìˆ˜ì§‘",
            "type": "main",
            "index": 0
          },
          {
            "node": "ê³µì‹œ ë°ì´í„° ìˆ˜ì§‘",
            "type": "main",
            "index": 0
          },
          {
            "node": "ì¬ë¬´ì œí‘œ ìˆ˜ì§‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë‰´ìŠ¤ ë°ì´í„° ìˆ˜ì§‘": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "ê³µì‹œ ë°ì´í„° ìˆ˜ì§‘": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "ì¬ë¬´ì œí‘œ ìˆ˜ì§‘": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "ë°ì´í„° ë³‘í•©": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ì „ì²˜ë¦¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë°ì´í„° ì „ì²˜ë¦¬": {
      "main": [
        [
          {
            "node": "ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°": {
      "main": [
        [
          {
            "node": "AI Chain - ê°ì„± ë¶„ì„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Chain - ê°ì„± ë¶„ì„": {
      "main": [
        [
          {
            "node": "ê°ì„± ë¶„ì„ ë³‘í•©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini - ê°ì„±ë¶„ì„": {
      "ai_languageModel": [
        [
          {
            "node": "AI Chain - ê°ì„± ë¶„ì„",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "ê°ì„± ë¶„ì„ ë³‘í•©": {
      "main": [
        [
          {
            "node": "AI Chain - í¬íŠ¸í´ë¦¬ì˜¤",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Chain - í¬íŠ¸í´ë¦¬ì˜¤": {
      "main": [
        [
          {
            "node": "ë§ˆí¬ë‹¤ìš´ ìƒì„±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini - í¬íŠ¸í´ë¦¬ì˜¤": {
      "ai_languageModel": [
        [
          {
            "node": "AI Chain - í¬íŠ¸í´ë¦¬ì˜¤",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "ë§ˆí¬ë‹¤ìš´ ìƒì„±": {
      "main": [
        [
          {
            "node": "Google Drive ì €ì¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "callerPolicy": "workflowsFromSameOwner",
    "timezone": "Asia/Seoul",
    "saveExecutionProgress": true,
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all"
  },
  "staticData": null,
  "tags": [],
  "pinData": {},
  "versionId": "1.0.2"
}
