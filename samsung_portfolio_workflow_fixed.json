{
  "name": "AI ì‚¼ì„±ì „ì í¬íŠ¸í´ë¦¬ì˜¤ ë§¤ë‹ˆì € (ìˆ˜ì •)",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 7 * * *"
            }
          ]
        }
      },
      "id": "schedule-trigger",
      "name": "ë§¤ì¼ ì˜¤ì „ 7ì‹œ ì‹¤í–‰",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [240, 400]
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# ì‚¼ì„±ì „ì ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘ (ìµœê·¼ 90ì¼)\nimport json\nfrom datetime import datetime, timedelta\n\n# ì˜ˆì‹œ ë°ì´í„° êµ¬ì¡° (ì‹¤ì œë¡œëŠ” yfinance ì‚¬ìš©)\nstock_data = {\n    \"symbol\": \"005930.KS\",\n    \"name\": \"ì‚¼ì„±ì „ì\",\n    \"period\": \"90days\",\n    \"data\": [\n        {\n            \"date\": (datetime.now() - timedelta(days=i)).strftime(\"%Y-%m-%d\"),\n            \"open\": 70000 + (i * 100),\n            \"high\": 72000 + (i * 100),\n            \"low\": 69000 + (i * 100),\n            \"close\": 71000 + (i * 100),\n            \"volume\": 10000000 + (i * 50000)\n        }\n        for i in range(90, 0, -1)\n    ]\n}\n\nreturn {\"json\": stock_data}"
      },
      "id": "stock-data-collection",
      "name": "ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 200]
    },
    {
      "parameters": {
        "url": "https://news.google.com/rss/search?q=ì‚¼ì„±ì „ì+ì£¼ê°€&hl=ko&gl=KR&ceid=KR:ko",
        "options": {}
      },
      "id": "news-rss-collection",
      "name": "ë‰´ìŠ¤ ë°ì´í„° ìˆ˜ì§‘",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 340]
    },
    {
      "parameters": {
        "url": "https://opendart.fss.or.kr/api/list.json",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "crtfc_key",
              "value": "YOUR_DART_API_KEY"
            },
            {
              "name": "corp_code",
              "value": "00126380"
            },
            {
              "name": "bgn_de",
              "value": "={{ $now.minus({days: 30}).toFormat('yyyyMMdd') }}"
            },
            {
              "name": "end_de",
              "value": "={{ $now.toFormat('yyyyMMdd') }}"
            },
            {
              "name": "page_count",
              "value": "10"
            }
          ]
        },
        "options": {
          "timeout": 10000
        }
      },
      "id": "dart-disclosure-collection",
      "name": "ê³µì‹œ ë°ì´í„° ìˆ˜ì§‘",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [460, 480]
    },
    {
      "parameters": {
        "url": "https://opendart.fss.or.kr/api/fnlttSinglAcntAll.json",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "crtfc_key",
              "value": "YOUR_DART_API_KEY"
            },
            {
              "name": "corp_code",
              "value": "00126380"
            },
            {
              "name": "bsns_year",
              "value": "2024"
            },
            {
              "name": "reprt_code",
              "value": "11014"
            },
            {
              "name": "fs_div",
              "value": "CFS"
            }
          ]
        },
        "options": {
          "timeout": 10000
        }
      },
      "id": "dart-financial-collection",
      "name": "ì¬ë¬´ì œí‘œ ìˆ˜ì§‘",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [460, 620]
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "mergeByPosition",
        "options": {}
      },
      "id": "merge-data",
      "name": "ë°ì´í„° ë³‘í•©",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [680, 410]
    },
    {
      "parameters": {
        "jsCode": "// ìˆ˜ì§‘ëœ ëª¨ë“  ë°ì´í„°ë¥¼ êµ¬ì¡°í™”\nconst allItems = $input.all();\n\nlet stockData = null;\nlet newsData = [];\nlet disclosureData = [];\nlet financialData = null;\n\n// ê° ë…¸ë“œì—ì„œ ì˜¨ ë°ì´í„° ë¶„ë¥˜\nfor (const item of allItems) {\n  const json = item.json;\n  \n  // ì£¼ê°€ ë°ì´í„° ì‹ë³„\n  if (json.symbol === '005930.KS') {\n    stockData = json;\n  }\n  \n  // ë‰´ìŠ¤ ë°ì´í„° ì‹ë³„ (RSS)\n  if (json.title && json.link && json.pubDate) {\n    newsData.push({\n      title: json.title,\n      link: json.link,\n      pubDate: json.pubDate,\n      description: json.description || json.content\n    });\n  }\n  \n  // ê³µì‹œ ë°ì´í„° ì‹ë³„\n  if (json.list && Array.isArray(json.list) && !json.reprt_code) {\n    disclosureData = json.list.slice(0, 5);\n  }\n  \n  // ì¬ë¬´ì œí‘œ ì‹ë³„\n  if (json.list && json.reprt_code) {\n    financialData = json.list;\n  }\n}\n\n// í†µí•© ë°ì´í„° êµ¬ì¡°\nconst integratedData = {\n  timestamp: new Date().toISOString(),\n  symbol: '005930',\n  companyName: 'ì‚¼ì„±ì „ì',\n  stockData: stockData,\n  newsData: newsData.slice(0, 10),\n  disclosureData: disclosureData,\n  financialData: financialData ? financialData.slice(0, 20) : null\n};\n\nreturn [{ json: integratedData }];"
      },
      "id": "data-preprocessing",
      "name": "ë°ì´í„° ì „ì²˜ë¦¬",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [880, 410]
    },
    {
      "parameters": {
        "jsCode": "// ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° (RSI, ì´ë™í‰ê· ì„ , ë³¼ë¦°ì € ë°´ë“œ)\nconst data = $input.first().json;\nconst stockPrices = data.stockData?.data || [];\n\n// RSI ê³„ì‚° í•¨ìˆ˜ (14ì¼ ê¸°ì¤€)\nfunction calculateRSI(prices, period = 14) {\n  if (prices.length < period + 1) return null;\n  \n  let gains = 0;\n  let losses = 0;\n  \n  for (let i = 1; i <= period; i++) {\n    const change = prices[i].close - prices[i - 1].close;\n    if (change > 0) gains += change;\n    else losses += Math.abs(change);\n  }\n  \n  let avgGain = gains / period;\n  let avgLoss = losses / period;\n  \n  for (let i = period + 1; i < prices.length; i++) {\n    const change = prices[i].close - prices[i - 1].close;\n    if (change > 0) {\n      avgGain = (avgGain * (period - 1) + change) / period;\n      avgLoss = (avgLoss * (period - 1)) / period;\n    } else {\n      avgGain = (avgGain * (period - 1)) / period;\n      avgLoss = (avgLoss * (period - 1) + Math.abs(change)) / period;\n    }\n  }\n  \n  const rs = avgGain / avgLoss;\n  return 100 - (100 / (1 + rs));\n}\n\n// ì´ë™í‰ê· ì„  ê³„ì‚°\nfunction calculateMA(prices, period) {\n  if (prices.length < period) return null;\n  const recentPrices = prices.slice(-period);\n  const sum = recentPrices.reduce((acc, p) => acc + p.close, 0);\n  return sum / period;\n}\n\n// ë³¼ë¦°ì € ë°´ë“œ ê³„ì‚°\nfunction calculateBollingerBands(prices, period = 20, stdDev = 2) {\n  if (prices.length < period) return null;\n  \n  const recentPrices = prices.slice(-period);\n  const closes = recentPrices.map(p => p.close);\n  const middle = closes.reduce((a, b) => a + b) / period;\n  const variance = closes.reduce((sum, price) => sum + Math.pow(price - middle, 2), 0) / period;\n  const std = Math.sqrt(variance);\n  \n  return {\n    upper: middle + (std * stdDev),\n    middle: middle,\n    lower: middle - (std * stdDev)\n  };\n}\n\n// ê±°ë˜ëŸ‰ ë¶„ì„\nfunction analyzeVolume(prices) {\n  if (prices.length < 20) return null;\n  \n  const recentVolumes = prices.slice(-20).map(p => p.volume);\n  const avgVolume = recentVolumes.reduce((a, b) => a + b) / 20;\n  const latestVolume = prices[prices.length - 1].volume;\n  \n  return {\n    average20d: avgVolume,\n    latest: latestVolume,\n    ratio: (latestVolume / avgVolume).toFixed(2),\n    trend: latestVolume > avgVolume * 1.5 ? 'ê¸‰ë“±' : latestVolume < avgVolume * 0.5 ? 'ê¸‰ê°' : 'ë³´í†µ'\n  };\n}\n\n// ì§€í‘œ ê³„ì‚°\nconst technicalIndicators = {\n  rsi: calculateRSI(stockPrices),\n  movingAverages: {\n    ma5: calculateMA(stockPrices, 5),\n    ma20: calculateMA(stockPrices, 20),\n    ma60: calculateMA(stockPrices, 60)\n  },\n  bollingerBands: calculateBollingerBands(stockPrices),\n  volume: analyzeVolume(stockPrices),\n  latestPrice: stockPrices[stockPrices.length - 1]?.close,\n  priceChange: {\n    day1: ((stockPrices[stockPrices.length - 1]?.close - stockPrices[stockPrices.length - 2]?.close) / stockPrices[stockPrices.length - 2]?.close * 100).toFixed(2),\n    day5: ((stockPrices[stockPrices.length - 1]?.close - stockPrices[stockPrices.length - 6]?.close) / stockPrices[stockPrices.length - 6]?.close * 100).toFixed(2),\n    day20: ((stockPrices[stockPrices.length - 1]?.close - stockPrices[stockPrices.length - 21]?.close) / stockPrices[stockPrices.length - 21]?.close * 100).toFixed(2)\n  }\n};\n\n// ë§¤ë§¤ ì‹ í˜¸ ìƒì„±\nlet tradingSignal = 'ë³´ìœ ';\nlet signalStrength = 0;\nconst reasons = [];\n\nif (technicalIndicators.rsi) {\n  if (technicalIndicators.rsi < 30) {\n    signalStrength += 2;\n    reasons.push('RSI ê³¼ë§¤ë„ êµ¬ê°„ (ë§¤ìˆ˜ ì‹ í˜¸)');\n  } else if (technicalIndicators.rsi > 70) {\n    signalStrength -= 2;\n    reasons.push('RSI ê³¼ë§¤ìˆ˜ êµ¬ê°„ (ë§¤ë„ ì‹ í˜¸)');\n  }\n}\n\nif (technicalIndicators.movingAverages.ma5 > technicalIndicators.movingAverages.ma20) {\n  signalStrength += 1;\n  reasons.push('ë‹¨ê¸° ì´í‰ì„ ì´ ì¤‘ê¸° ì´í‰ì„  ìƒíšŒ (ê³¨ë“ í¬ë¡œìŠ¤)');\n} else {\n  signalStrength -= 1;\n  reasons.push('ë‹¨ê¸° ì´í‰ì„ ì´ ì¤‘ê¸° ì´í‰ì„  í•˜íšŒ (ë°ë“œí¬ë¡œìŠ¤)');\n}\n\nif (technicalIndicators.bollingerBands && technicalIndicators.latestPrice) {\n  if (technicalIndicators.latestPrice < technicalIndicators.bollingerBands.lower) {\n    signalStrength += 1;\n    reasons.push('ë³¼ë¦°ì € ë°´ë“œ í•˜ë‹¨ ëŒíŒŒ (ë°˜ë“± ê°€ëŠ¥ì„±)');\n  } else if (technicalIndicators.latestPrice > technicalIndicators.bollingerBands.upper) {\n    signalStrength -= 1;\n    reasons.push('ë³¼ë¦°ì € ë°´ë“œ ìƒë‹¨ ëŒíŒŒ (ì¡°ì • ê°€ëŠ¥ì„±)');\n  }\n}\n\nif (signalStrength >= 2) tradingSignal = 'ë§¤ìˆ˜';\nelse if (signalStrength <= -2) tradingSignal = 'ë§¤ë„';\n\nconst result = {\n  ...data,\n  technicalIndicators: technicalIndicators,\n  tradingSignal: {\n    signal: tradingSignal,\n    strength: signalStrength,\n    reasons: reasons,\n    confidence: Math.min(Math.abs(signalStrength) * 25, 100) + '%'\n  }\n};\n\nreturn [{ json: result }];"
      },
      "id": "technical-indicators",
      "name": "ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1080, 410]
    },
    {
      "parameters": {
        "text": "={{ JSON.stringify($json.newsData) }}",
        "options": {}
      },
      "id": "ai-chain-sentiment",
      "name": "AI Chain - ê°ì„± ë¶„ì„",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.4,
      "position": [1280, 300]
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash-exp",
        "options": {
          "temperature": 0.7,
          "maxOutputTokens": 2048
        }
      },
      "id": "gemini-sentiment-model",
      "name": "Gemini - ê°ì„±ë¶„ì„",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [1280, 480]
    },
    {
      "parameters": {
        "text": "=ë‹¹ì‹ ì€ ì£¼ì‹ í¬íŠ¸í´ë¦¬ì˜¤ ë§¤ë‹ˆì €ì…ë‹ˆë‹¤. ë‹¤ìŒ ë°ì´í„°ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ë‹¨ê¸° íŠ¸ë ˆì´ë”© ì „ëµì„ ì œì‹œí•´ì£¼ì„¸ìš”.\n\n## ê¸°ë³¸ ì •ë³´\n- ì¢…ëª©: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.companyName }} ({{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.symbol }})\n- ë¶„ì„ ì¼ì‹œ: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.timestamp }}\n\n## ì£¼ê°€ ë°ì´í„°\n- í˜„ì¬ê°€: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.latestPrice }}ì›\n- 1ì¼ ë³€ë™: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.priceChange.day1 }}%\n- 5ì¼ ë³€ë™: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.priceChange.day5 }}%\n- 20ì¼ ë³€ë™: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.priceChange.day20 }}%\n\n## ê¸°ìˆ ì  ì§€í‘œ\n- RSI: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.rsi }}\n- ì´ë™í‰ê· ì„ : MA5 {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.movingAverages.ma5 }}, MA20 {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.movingAverages.ma20 }}, MA60 {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.movingAverages.ma60 }}\n- ë³¼ë¦°ì € ë°´ë“œ: ìƒë‹¨ {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.bollingerBands.upper }}, ì¤‘ê°„ {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.bollingerBands.middle }}, í•˜ë‹¨ {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.bollingerBands.lower }}\n- ê±°ë˜ëŸ‰: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.volume.trend }} (í‰ê·  ëŒ€ë¹„ {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.technicalIndicators.volume.ratio }}ë°°)\n\n## ìë™ ë§¤ë§¤ ì‹ í˜¸\n- ì‹ í˜¸: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.tradingSignal.signal }}\n- ì‹ ë¢°ë„: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.tradingSignal.confidence }}\n- ê·¼ê±°: {{ $('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.tradingSignal.reasons }}\n\n## ë‰´ìŠ¤ ê°ì„± ë¶„ì„\n{{ $json.output }}\n\n## ì¬ë¬´/ê³µì‹œ ì •ë³´\n{{ JSON.stringify($('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.financialData) }}\n{{ JSON.stringify($('ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°').item.json.disclosureData) }}",
        "options": {}
      },
      "id": "ai-chain-portfolio",
      "name": "AI Chain - í¬íŠ¸í´ë¦¬ì˜¤",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.4,
      "position": [1480, 300]
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash-exp",
        "options": {
          "temperature": 0.7,
          "maxOutputTokens": 4096
        }
      },
      "id": "gemini-portfolio-model",
      "name": "Gemini - í¬íŠ¸í´ë¦¬ì˜¤",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [1480, 480]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "system-message-sentiment",
              "name": "systemMessage",
              "value": "=ë‹¹ì‹ ì€ ê¸ˆìœµ ë‰´ìŠ¤ ê°ì„± ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.\n\n## ì—­í• \n- ì œê³µëœ ë‰´ìŠ¤ ê¸°ì‚¬ë“¤ì„ ë¶„ì„í•˜ì—¬ ì‹œì¥ ì‹¬ë¦¬ë¥¼ íŒŒì•…í•©ë‹ˆë‹¤\n- ê° ë‰´ìŠ¤ê°€ ì£¼ê°€ì— ë¯¸ì¹  ì˜í–¥ì„ í‰ê°€í•©ë‹ˆë‹¤\n- ê°ê´€ì ì´ê³  ë°ì´í„° ê¸°ë°˜ì˜ ë¶„ì„ì„ ì œê³µí•©ë‹ˆë‹¤\n\n## ë¶„ì„ ê¸°ì¤€\n1. **ê¸ì •**: ì‹¤ì  ê°œì„ , ì‹ ì œí’ˆ ì¶œì‹œ, íˆ¬ì í™•ëŒ€, ê¸ì •ì  ì „ë§\n2. **ë¶€ì •**: ì‹¤ì  ì•…í™”, ì†Œì†¡/ê·œì œ, ë¦¬ì½œ, ë¶€ì •ì  ì „ë§\n3. **ì¤‘ë¦½**: ë‹¨ìˆœ ì‚¬ì‹¤ ë³´ë„, ì˜í–¥ì´ ë¶ˆë¶„ëª…í•œ ì‚¬í•­\n\n## ì¶œë ¥ í˜•ì‹\në‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”:\n```json\n[\n  {\n    \"title\": \"ë‰´ìŠ¤ ì œëª©\",\n    \"sentiment\": \"ê¸ì •/ë¶€ì •/ì¤‘ë¦½\",\n    \"score\": 75,\n    \"summary\": \"í•œ ì¤„ ìš”ì•½\",\n    \"impact\": \"ìƒìŠ¹/í•˜ë½/ì¤‘ë¦½\",\n    \"reasoning\": \"íŒë‹¨ ê·¼ê±°\"\n  }\n]\n```\n\n## ì£¼ì˜ì‚¬í•­\n- ë‹¨ê¸° íŠ¸ë ˆì´ë”© ê´€ì ì—ì„œ ë¶„ì„í•˜ì„¸ìš” (1-3ì¼)\n- ê³¼ì¥ë˜ì§€ ì•Šì€ ê°ê´€ì  í‰ê°€ë¥¼ í•˜ì„¸ìš”\n- ë¶ˆí™•ì‹¤í•œ ê²½ìš° ì¤‘ë¦½ìœ¼ë¡œ íŒë‹¨í•˜ì„¸ìš”",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "system-prompt-sentiment",
      "name": "ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ - ê°ì„±",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [1280, 120]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "system-message-portfolio",
              "name": "systemMessage",
              "value": "=ë‹¹ì‹ ì€ ë‹¨ê¸° íŠ¸ë ˆì´ë”© ì „ë¬¸ ì£¼ì‹ í¬íŠ¸í´ë¦¬ì˜¤ ë§¤ë‹ˆì €ì…ë‹ˆë‹¤.\n\n## ì—­í•  ë° ì „ë¬¸ì„±\n- ê¸°ìˆ ì  ë¶„ì„ì„ í†µí•œ ë‹¨ê¸° ë§¤ë§¤ ì‹œì  í¬ì°© (1-3ì¼ íˆ¬ì ê¸°ê°„)\n- ë‰´ìŠ¤ ê°ì„±ê³¼ ì‹œì¥ ì‹¬ë¦¬ë¥¼ ë°˜ì˜í•œ ì¢…í•© ë¶„ì„\n- ëª…í™•í•œ ë§¤ìˆ˜/ë§¤ë„/ë³´ìœ  ì¶”ì²œ ë° ë¦¬ìŠ¤í¬ ê´€ë¦¬\n- êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ íŠ¸ë ˆì´ë”© ì „ëµ ì œì‹œ\n\n## ë¶„ì„ í”„ë ˆì„ì›Œí¬\n\n### 1. ê¸°ìˆ ì  ë¶„ì„ ìš°ì„ ìˆœìœ„\n- **RSI**: ê³¼ë§¤ìˆ˜(>70)/ê³¼ë§¤ë„(<30) í™•ì¸\n- **ì´ë™í‰ê· ì„ **: ê³¨ë“ í¬ë¡œìŠ¤/ë°ë“œí¬ë¡œìŠ¤ ì‹ í˜¸\n- **ë³¼ë¦°ì € ë°´ë“œ**: ìƒí•˜ë‹¨ ëŒíŒŒ ì‹œ ë°˜ì „ ê°€ëŠ¥ì„±\n- **ê±°ë˜ëŸ‰**: í‰ê·  ëŒ€ë¹„ 1.5ë°° ì´ìƒ ì‹œ ê¸‰ë“±/ê¸‰ë½ ì‹ í˜¸\n\n### 2. ë‰´ìŠ¤ ê°ì„± ê°€ì¤‘ì¹˜\n- ê¸ì • ë‰´ìŠ¤ 3ê°œ ì´ìƒ: +1ì \n- ë¶€ì • ë‰´ìŠ¤ 3ê°œ ì´ìƒ: -1ì \n- ì¤‘ë¦½ ë˜ëŠ” í˜¼ì¬: 0ì \n\n### 3. ìµœì¢… íŒë‹¨ ê¸°ì¤€\n| ì ìˆ˜ | ì¶”ì²œ | ì‹ ë¢°ë„ |\n|------|------|--------|\n| +3 ì´ìƒ | ê°•ë ¥ ë§¤ìˆ˜ | ë†’ìŒ |\n| +2 | ë§¤ìˆ˜ | ì¤‘ê°„ |\n| +1 ~ -1 | ë³´ìœ  | ë‚®ìŒ |\n| -2 | ë§¤ë„ | ì¤‘ê°„ |\n| -3 ì´í•˜ | ê°•ë ¥ ë§¤ë„ | ë†’ìŒ |\n\n## ì¶œë ¥ í˜•ì‹ (ë§ˆí¬ë‹¤ìš´)\n\n```markdown\n# ì‚¼ì„±ì „ì ì¼ì¼ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ë¦¬í¬íŠ¸\n\n**ìƒì„± ì¼ì‹œ**: [KST ì‹œê°„]\n\n---\n\n## ğŸ“Š Executive Summary\n\n### íˆ¬ì ì¶”ì²œ\n- **í¬ì§€ì…˜**: [ê°•ë ¥ ë§¤ìˆ˜ / ë§¤ìˆ˜ / ë³´ìœ  / ë§¤ë„ / ê°•ë ¥ ë§¤ë„]\n- **ì‹ ë¢°ë„**: [ë†’ìŒ / ì¤‘ê°„ / ë‚®ìŒ]\n- **ëª©í‘œê°€**: [êµ¬ì²´ì  ê°€ê²©]ì› (ê·¼ê±°: [ì´ìœ ])\n- **ì†ì ˆê°€**: [êµ¬ì²´ì  ê°€ê²©]ì› (í˜„ì¬ê°€ ëŒ€ë¹„ -X%)\n- **íˆ¬ì ê¸°ê°„**: [1-3ì¼]\n- **ì˜ˆìƒ ìˆ˜ìµë¥ **: [X%]\n\n### í•µì‹¬ ìš”ì•½ (3ì¤„)\n1. [ê¸°ìˆ ì  ë¶„ì„ ìš”ì•½]\n2. [ë‰´ìŠ¤ ê°ì„± ìš”ì•½]\n3. [ìµœì¢… íŒë‹¨ ë° ë¦¬ìŠ¤í¬]\n\n---\n\n## ğŸ“ˆ ê¸°ìˆ ì  ë¶„ì„\n\n### ê°€ê²© ë™í–¥\n- í˜„ì¬ê°€: [ê°€ê²©]ì›\n- ë‹¨ê¸° ë³€ë™: [1ì¼/5ì¼/20ì¼ ë³€ë™ë¥ ]\n- ì¶”ì„¸: [ìƒìŠ¹/í•˜ë½/íš¡ë³´]\n\n### ì£¼ìš” ì§€í‘œ í•´ì„\n\n#### RSI (14ì¼): [ê°’]\n- íŒë‹¨: [ê³¼ë§¤ìˆ˜/ì¤‘ë¦½/ê³¼ë§¤ë„]\n- ì‹œì‚¬ì : [êµ¬ì²´ì  ì„¤ëª…]\n\n#### ì´ë™í‰ê· ì„ \n- MA5: [ê°’]ì›, MA20: [ê°’]ì›, MA60: [ê°’]ì›\n- ë°°ì—´: [ì •ë°°ì—´/ì—­ë°°ì—´/í˜¼ì¬]\n- í¬ë¡œìŠ¤: [ê³¨ë“ í¬ë¡œìŠ¤/ë°ë“œí¬ë¡œìŠ¤/ì—†ìŒ]\n- ì‹œì‚¬ì : [êµ¬ì²´ì  ì„¤ëª…]\n\n#### ë³¼ë¦°ì € ë°´ë“œ\n- í˜„ì¬ ìœ„ì¹˜: [ìƒë‹¨/ì¤‘ê°„/í•˜ë‹¨]\n- ë°´ë“œí­: [í™•ì¥/ì¶•ì†Œ]\n- ì‹œì‚¬ì : [êµ¬ì²´ì  ì„¤ëª…]\n\n#### ê±°ë˜ëŸ‰\n- ì¶”ì„¸: [ê¸‰ë“±/ê¸‰ê°/ë³´í†µ]\n- í‰ê·  ëŒ€ë¹„: [Xë°°]\n- ì‹œì‚¬ì : [êµ¬ì²´ì  ì„¤ëª…]\n\n### ì¢…í•© ê¸°ìˆ  ì ìˆ˜: [+Xì ] / 5ì \n\n---\n\n## ğŸ“° ë‰´ìŠ¤ & ì‹œì¥ ì‹¬ë¦¬\n\n### ê°ì„± ë¶„ì„ ìš”ì•½\n- ê¸ì • ë‰´ìŠ¤: [Xê°œ]\n- ë¶€ì • ë‰´ìŠ¤: [Xê°œ]\n- ì¤‘ë¦½ ë‰´ìŠ¤: [Xê°œ]\n- **ì „ì²´ ê°ì„±**: [ê¸ì •ì /ë¶€ì •ì /ì¤‘ë¦½ì ]\n\n### ì£¼ìš” ë‰´ìŠ¤ í•˜ì´ë¼ì´íŠ¸\n[ê°ì„± ë¶„ì„ ê²°ê³¼ì—ì„œ ê°€ì¥ ì˜í–¥ë ¥ í° 3ê°œ ë‰´ìŠ¤ ìš”ì•½]\n\n1. **[ë‰´ìŠ¤ ì œëª©]**\n   - ê°ì„±: [ê¸ì •/ë¶€ì •/ì¤‘ë¦½] (ì ìˆ˜: X/100)\n   - ì˜í–¥: [ìƒìŠ¹/í•˜ë½/ì¤‘ë¦½]\n   - ìš”ì•½: [í•œ ì¤„ ì„¤ëª…]\n\n2. **[ë‰´ìŠ¤ ì œëª©]**\n   ...\n\n3. **[ë‰´ìŠ¤ ì œëª©]**\n   ...\n\n### ì‹œì¥ ì‹¬ë¦¬ ì¢…í•©: [+Xì ] / 5ì \n\n---\n\n## ğŸ’¼ ì¬ë¬´ & ê³µì‹œ ë¶„ì„\n\n### ìµœê·¼ ê³µì‹œ (5ê°œ)\n[ì£¼ìš” ê³µì‹œ ìš”ì•½ - ìˆëŠ” ê²½ìš°ë§Œ]\n\n### ì¬ë¬´ ì§€í‘œ (ìµœê·¼ ë¶„ê¸°)\n[ì¬ë¬´ì œí‘œ ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš° ì£¼ìš” ì§€í‘œë§Œ ìš”ì•½]\n\n---\n\n## ğŸ¯ íŠ¸ë ˆì´ë”© ì „ëµ\n\n### ìµœì¢… ì ìˆ˜: [ê¸°ìˆ  ì ìˆ˜ + ì‹¬ë¦¬ ì ìˆ˜] / 10ì \n\n### ğŸ’¡ ì¶”ì²œ ì „ëµ: [ê°•ë ¥ ë§¤ìˆ˜/ë§¤ìˆ˜/ë³´ìœ /ë§¤ë„/ê°•ë ¥ ë§¤ë„]\n\n#### [ë§¤ìˆ˜ ì „ëµ - ë§¤ìˆ˜ ì¶”ì²œ ì‹œ]\n\n**ì§„ì… íƒ€ì´ë°**\n- 1ì°¨ ë§¤ìˆ˜: [ê°€ê²©ëŒ€] (ë¹„ì¤‘: 50%)\n- 2ì°¨ ë§¤ìˆ˜: [ê°€ê²©ëŒ€] (ë¹„ì¤‘: 30%) - ì¡°ê±´: [ì¡°ê±´]\n- 3ì°¨ ë§¤ìˆ˜: [ê°€ê²©ëŒ€] (ë¹„ì¤‘: 20%) - ì¡°ê±´: [ì¡°ê±´]\n\n**ëª©í‘œ ìˆ˜ìµ**\n- 1ì°¨ ëª©í‘œ: [ê°€ê²©] (+X%)\n- 2ì°¨ ëª©í‘œ: [ê°€ê²©] (+X%)\n- ìµœì¢… ëª©í‘œ: [ê°€ê²©] (+X%)\n\n**ì†ì ˆ ì „ëµ**\n- ì†ì ˆê°€: [ê°€ê²©] (-X%)\n- ì†ì ˆ ì¡°ê±´: [êµ¬ì²´ì  ì¡°ê±´]\n\n**ì£¼ì˜ì‚¬í•­**\n- [ë¦¬ìŠ¤í¬ ìš”ì¸ 1]\n- [ë¦¬ìŠ¤í¬ ìš”ì¸ 2]\n\n#### [ë§¤ë„ ì „ëµ - ë§¤ë„ ì¶”ì²œ ì‹œ]\n\n**ì²­ì‚° íƒ€ì´ë°**\n- ì¦‰ì‹œ ë§¤ë„: [ì´ìœ ]\n- ë¶„í•  ë§¤ë„: [ê°€ê²©ëŒ€ë³„ ë¹„ì¤‘]\n\n**ì†ì ˆ ì „ëµ**\n- ì¶”ê°€ í•˜ë½ ë°©ì–´ì„ : [ê°€ê²©]\n\n#### [ë³´ìœ  ì „ëµ - ë³´ìœ  ì¶”ì²œ ì‹œ]\n\n**ê´€ì°° í¬ì¸íŠ¸**\n- ë§¤ìˆ˜ ì „í™˜ ì¡°ê±´: [ì¡°ê±´]\n- ë§¤ë„ ì „í™˜ ì¡°ê±´: [ì¡°ê±´]\n\n**ëŒ€ê¸° ì „ëµ**\n- [êµ¬ì²´ì  ëŒ€ê¸° ì´ìœ ]\n\n---\n\n## âš ï¸ ë¦¬ìŠ¤í¬ ë¶„ì„\n\n### ë¦¬ìŠ¤í¬ ë ˆë²¨: [ë‚®ìŒ/ì¤‘ê°„/ë†’ìŒ]\n\n### ì£¼ìš” ë¦¬ìŠ¤í¬ ìš”ì¸\n1. **[ë¦¬ìŠ¤í¬ 1]**: [ì„¤ëª… ë° ëŒ€ì‘ ë°©ì•ˆ]\n2. **[ë¦¬ìŠ¤í¬ 2]**: [ì„¤ëª… ë° ëŒ€ì‘ ë°©ì•ˆ]\n3. **[ë¦¬ìŠ¤í¬ 3]**: [ì„¤ëª… ë° ëŒ€ì‘ ë°©ì•ˆ]\n\n### ê¸ì • ìš”ì¸\n1. [ê¸ì • ìš”ì¸ 1]\n2. [ê¸ì • ìš”ì¸ 2]\n\n---\n\n## ğŸ“ ê²°ë¡ \n\n### ìµœì¢… ì˜ê²¬\n[2-3ë¬¸ì¥ìœ¼ë¡œ ì¢…í•© ì˜ê²¬]\n\n### ì•¡ì…˜ ì•„ì´í…œ\n- [ ] [êµ¬ì²´ì  í–‰ë™ 1]\n- [ ] [êµ¬ì²´ì  í–‰ë™ 2]\n- [ ] [êµ¬ì²´ì  í–‰ë™ 3]\n\n### ë‹¤ìŒ ê´€ì°° ì‹œì \n- [ë‚´ì¼ / Xì¼ í›„] [ì´ìœ ]\n\n---\n\n**ë©´ì±… ì¡°í•­**: ì´ ë¦¬í¬íŠ¸ëŠ” AIê°€ ìë™ ìƒì„±í•œ ê²ƒìœ¼ë¡œ, íˆ¬ì íŒë‹¨ì˜ ì°¸ê³  ìë£Œë¡œë§Œ í™œìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ëª¨ë“  íˆ¬ì ê²°ì •ì€ ë³¸ì¸ì˜ íŒë‹¨ê³¼ ì±…ì„í•˜ì— ì§„í–‰í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n**ìƒì„± ì •ë³´**: Gemini AI | ë‹¨ê¸° íŠ¸ë ˆì´ë”© ì „ëµ | v1.0\n```\n\n## ì‘ì„± ì›ì¹™\n1. **êµ¬ì²´ì„±**: ëª¨í˜¸í•œ í‘œí˜„ ê¸ˆì§€, ìˆ«ìì™€ ê·¼ê±° ëª…ì‹œ\n2. **ì‹¤í–‰ì„±**: ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ ì „ëµ ì œì‹œ\n3. **ê°ê´€ì„±**: ê³¼ì¥ ê¸ˆì§€, ë°ì´í„° ê¸°ë°˜ íŒë‹¨\n4. **ëª…í™•ì„±**: ë§¤ìˆ˜/ë§¤ë„/ë³´ìœ  ëª…í™•íˆ êµ¬ë¶„\n5. **ë¦¬ìŠ¤í¬**: í•­ìƒ ë¦¬ìŠ¤í¬ ìš”ì¸ í•¨ê»˜ ì œì‹œ\n\n## ê¸ˆì§€ ì‚¬í•­\n- ë¬´ì¡°ê±´ì ì¸ ë§¤ìˆ˜/ë§¤ë„ ê¶Œìœ \n- ê³¼ë„í•œ ìˆ˜ìµë¥  ì˜ˆì¸¡\n- ê·¼ê±° ì—†ëŠ” ì£¼ì¥\n- íˆ¬ì í™•ì • í‘œí˜„ (\"ë°˜ë“œì‹œ\", \"í™•ì‹¤íˆ\" ë“±)",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "system-prompt-portfolio",
      "name": "ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ - í¬íŠ¸í´ë¦¬ì˜¤",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [1480, 120]
    },
    {
      "parameters": {
        "jsCode": "// AI ë¶„ì„ ê²°ê³¼ë¥¼ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ë¡œ í¬ë§·íŒ…\nconst analysisResult = $input.first().json;\nconst today = new Date().toISOString().split('T')[0];\n\n// AIê°€ ìƒì„±í•œ ë§ˆí¬ë‹¤ìš´ ë¦¬í¬íŠ¸ ì¶”ì¶œ\nlet markdownContent = '';\n\nif (typeof analysisResult === 'string') {\n  markdownContent = analysisResult;\n} else if (analysisResult.output) {\n  markdownContent = analysisResult.output;\n} else if (analysisResult.text) {\n  markdownContent = analysisResult.text;\n} else if (analysisResult.response) {\n  markdownContent = analysisResult.response;\n} else {\n  // í´ë°±: ê¸°ë³¸ í…œí”Œë¦¿\n  markdownContent = `# ì‚¼ì„±ì „ì ì¼ì¼ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ë¦¬í¬íŠ¸\\n\\n**ìƒì„± ì¼ì‹œ**: ${new Date().toLocaleString('ko-KR', { timeZone: 'Asia/Seoul' })}\\n\\n## ë¶„ì„ ê²°ê³¼\\n\\nAI ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\\n\\n${JSON.stringify(analysisResult, null, 2)}\\n`;\n}\n\n// íŒŒì¼ëª… ìƒì„±\nconst fileName = `${today}_samsung_portfolio_report.md`;\n\nreturn [{\n  json: {\n    fileName: fileName,\n    content: markdownContent,\n    mimeType: 'text/markdown',\n    timestamp: new Date().toISOString()\n  }\n}];"
      },
      "id": "markdown-generation",
      "name": "ë§ˆí¬ë‹¤ìš´ ìƒì„±",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1680, 300]
    },
    {
      "parameters": {
        "name": "={{ $json.fileName }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "mode": "list",
          "value": "root"
        },
        "options": {}
      },
      "id": "google-drive-upload",
      "name": "Google Drive ì €ì¥",
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [1880, 300]
    },
    {
      "parameters": {
        "height": 320,
        "width": 420,
        "color": 5
      },
      "id": "sticky-note-trigger",
      "name": "Sticky Note - íŠ¸ë¦¬ê±°",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [160, 240]
    },
    {
      "parameters": {
        "height": 440,
        "width": 480,
        "color": 4
      },
      "id": "sticky-note-data",
      "name": "Sticky Note - ë°ì´í„°",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [380, 80]
    },
    {
      "parameters": {
        "height": 380,
        "width": 400,
        "color": 6
      },
      "id": "sticky-note-ai",
      "name": "Sticky Note - AI",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [1220, -80]
    },
    {
      "parameters": {
        "height": 360,
        "width": 380,
        "color": 3
      },
      "id": "sticky-note-technical",
      "name": "Sticky Note - ê¸°ìˆ ì§€í‘œ",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [1000, 80]
    },
    {
      "parameters": {
        "height": 340,
        "width": 360,
        "color": 7
      },
      "id": "sticky-note-output",
      "name": "Sticky Note - ì¶œë ¥",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [1800, 80]
    }
  ],
  "connections": {
    "ë§¤ì¼ ì˜¤ì „ 7ì‹œ ì‹¤í–‰": {
      "main": [
        [
          {
            "node": "ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘",
            "type": "main",
            "index": 0
          },
          {
            "node": "ë‰´ìŠ¤ ë°ì´í„° ìˆ˜ì§‘",
            "type": "main",
            "index": 0
          },
          {
            "node": "ê³µì‹œ ë°ì´í„° ìˆ˜ì§‘",
            "type": "main",
            "index": 0
          },
          {
            "node": "ì¬ë¬´ì œí‘œ ìˆ˜ì§‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë‰´ìŠ¤ ë°ì´í„° ìˆ˜ì§‘": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "ê³µì‹œ ë°ì´í„° ìˆ˜ì§‘": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "ì¬ë¬´ì œí‘œ ìˆ˜ì§‘": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ë³‘í•©",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "ë°ì´í„° ë³‘í•©": {
      "main": [
        [
          {
            "node": "ë°ì´í„° ì „ì²˜ë¦¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë°ì´í„° ì „ì²˜ë¦¬": {
      "main": [
        [
          {
            "node": "ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°": {
      "main": [
        [
          {
            "node": "ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ - ê°ì„±",
            "type": "main",
            "index": 0
          },
          {
            "node": "AI Chain - ê°ì„± ë¶„ì„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Chain - ê°ì„± ë¶„ì„": {
      "main": [
        [
          {
            "node": "ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ - í¬íŠ¸í´ë¦¬ì˜¤",
            "type": "main",
            "index": 0
          },
          {
            "node": "AI Chain - í¬íŠ¸í´ë¦¬ì˜¤",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini - ê°ì„±ë¶„ì„": {
      "ai_languageModel": [
        [
          {
            "node": "AI Chain - ê°ì„± ë¶„ì„",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini - í¬íŠ¸í´ë¦¬ì˜¤": {
      "ai_languageModel": [
        [
          {
            "node": "AI Chain - í¬íŠ¸í´ë¦¬ì˜¤",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Chain - í¬íŠ¸í´ë¦¬ì˜¤": {
      "main": [
        [
          {
            "node": "ë§ˆí¬ë‹¤ìš´ ìƒì„±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ë§ˆí¬ë‹¤ìš´ ìƒì„±": {
      "main": [
        [
          {
            "node": "Google Drive ì €ì¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "",
    "timezone": "Asia/Seoul",
    "saveExecutionProgress": true,
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all"
  },
  "staticData": null,
  "tags": [],
  "pinData": {},
  "versionId": "1.0.1",
  "meta": {
    "templateCredsSetupCompleted": false,
    "instanceId": "self-hosted"
  }
}
